title: Sample Ethereum Serenity State Transition Tests
summary: Testing full state transition block processing
test_suite: prysm
fork: sapphire
version: 1.0
test_cases:
  - config:
      epoch_length: 64
      deposits_for_chain_start: 1000
      num_slots: 32 # Testing advancing state to slot < EpochLength
    results:
      slot: 32
      num_validators: 1000
  - config:
      epoch_length: 64
      deposits_for_chain_start: 16384
      num_slots: 64 # Testing advancing state to exactly slot == EpochLength
      deposits:
        - slot: 1
          amount: 32
          merkle_index: 0
          pubkey: !!binary |
            SlAAbShSkUg7PLiPHZI/rTS1uAvKiieOrifPN6Moso0=
        - slot: 15
          amount: 32
          merkle_index: 1
          pubkey: !!binary |
            Oklajsjdkaklsdlkajsdjlajslkdjlkasjlkdjlajdsd
        - slot: 63
          amount: 32
          merkle_index: 2
          pubkey: !!binary |
            LkmqmqoodLKAslkjdkajsdljasdkajlksjdasldjasdd
    results:
      slot: 64
      num_validators: 16387
  - config:
      skip_slots: [10, 20]
      epoch_length: 64
      deposits_for_chain_start: 1000
      num_slots: 128 # Testing advancing state's slot == 2*EpochLength
      deposits:
        - slot: 10
          amount: 32
          merkle_index: 0
          pubkey: !!binary |
            SlAAbShSkUg7PLiPHZI/rTS1uAvKiieOrifPN6Moso0=
        - slot: 20
          amount: 32
          merkle_index: 1
          pubkey: !!binary |
            Oklajsjdkaklsdlkajsdjlajslkdjlkasjlkdjlajdsd
    results:
      slot: 128
      num_validators: 1000 # Validator registry should not have grown if slots 10 and 20 were skipped